<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ê†°ÂèãÊ¥ªÂä® - ÂçóÂ§ßÊ†°Âèã</title>
    <script src="https://cdn.jsdelivr.net/npm/iconify-icon@2.1.0/dist/iconify-icon.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/vue/3.5.19/vue.global.min.js"></script>
    <link rel="stylesheet" href="shared-styles.css">
    <style>
        /* È¶ñÈ°µ‰∏ìÁî®Ê†∑Âºè */
        .home-page {
            background-color: #F8F9FA;
            min-height: 100vh;
        }

        .page-content {
            padding: 0;
            background-color: #F8F9FA;
        }

        /* Á≠õÈÄâÊ†áÁ≠æÂå∫Âüü */
        .filter-section {
            background-color: var(--color-surface);
            padding: 12px var(--spacing-lg);
            border-bottom: 1px solid #F1F3F4;
        }

        .filter-tabs {
            display: flex;
            gap: var(--spacing-sm);
            max-width: 500px;
            overflow-x: auto;
            padding-bottom: var(--spacing-xs);
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .filter-tabs::-webkit-scrollbar {
            display: none;
        }

        .filter-tab {
            padding: 10px var(--spacing-md);
            background-color: #F8F9FA;
            color: var(--color-on-surface-variant);
            border: 2px solid transparent;
            border-radius: var(--radius-sm);
            font-size: var(--text-body-medium);
            font-weight: 500;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-xs);
        }

        .filter-tab:hover {
            background-color: var(--color-primary-container);
            color: var(--color-on-primary-container);
        }

        .filter-tab.active {
            background-color: var(--color-primary);
            color: var(--color-on-primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(112, 44, 138, 0.2);
        }

        .filter-icon {
            width: 16px;
            height: 16px;
        }

        /* Ê¥ªÂä®ÂàóË°®Âå∫Âüü */
        .activities-section {
            padding: var(--spacing-md);
        }

        .activity-list {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-lg);
        }

        .activity-card {
            background-color: var(--color-surface);
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border: 1px solid #F1F3F4;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .activity-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
            border-color: var(--color-primary-container);
        }

        .activity-image-container {
            position: relative;
            height: 180px;
            overflow: hidden;
        }

        .activity-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .activity-card:hover .activity-image {
            transform: scale(1.05);
        }

        .activity-status {
            position: absolute;
            top: var(--spacing-md);
            right: var(--spacing-md);
            padding: 4px var(--spacing-sm);
            border-radius: var(--radius-xs);
            font-size: var(--text-label-medium);
            font-weight: 500;
            backdrop-filter: blur(10px);
        }

        .activity-status.open {
            background-color: rgba(76, 175, 80, 0.9);
            color: white;
        }

        .activity-status.full {
            background-color: rgba(255, 87, 34, 0.9);
            color: white;
        }

        .activity-status.closed {
            background-color: rgba(97, 97, 97, 0.9);
            color: white;
        }

        .activity-category {
            position: absolute;
            top: var(--spacing-md);
            left: var(--spacing-md);
            background-color: rgba(112, 44, 138, 0.9);
            color: white;
            padding: 4px var(--spacing-sm);
            border-radius: var(--radius-xs);
            font-size: var(--text-label-medium);
            font-weight: 500;
            backdrop-filter: blur(10px);
        }

        .activity-info {
            padding: var(--spacing-lg);
        }

        .activity-title {
            font-size: var(--text-title-medium);
            font-weight: 600;
            color: var(--color-on-surface);
            margin-bottom: var(--spacing-sm);
            line-height: 1.4;
        }

        .activity-meta {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-xs);
            margin-bottom: var(--spacing-md);
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            font-size: var(--text-body-medium);
            color: var(--color-on-surface-variant);
        }

        .meta-icon {
            width: 16px;
            height: 16px;
            color: var(--color-primary);
        }

        .activity-summary {
            font-size: var(--text-body-medium);
            color: var(--color-on-surface-variant);
            line-height: 1.5;
            margin-bottom: var(--spacing-md);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .activity-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .participants-info {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            font-size: var(--text-body-medium);
            color: var(--color-on-surface-variant);
        }

        .view-btn {
            background-color: var(--color-primary-container);
            color: var(--color-on-primary-container);
            border: none;
            border-radius: var(--radius-sm);
            padding: var(--spacing-xs) var(--spacing-md);
            font-size: var(--text-label-large);
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
        }

        .view-btn:hover {
            background-color: var(--color-primary);
            color: var(--color-on-primary);
            transform: translateX(2px);
        }

        /* Á©∫Áä∂ÊÄÅ */
        .empty-state {
            text-align: center;
            padding: var(--spacing-xl) var(--spacing-lg);
            color: var(--color-on-surface-variant);
        }

        .empty-icon {
            font-size: 64px;
            margin-bottom: var(--spacing-lg);
            opacity: 0.5;
        }

        .empty-title {
            font-size: var(--text-title-medium);
            font-weight: 500;
            margin-bottom: var(--spacing-sm);
            color: var(--color-on-surface);
        }

        .empty-message {
            font-size: var(--text-body-large);
            line-height: 1.5;
        }

        /* Âä†ËΩΩÈ™®Êû∂Â±è */
        .activity-skeleton {
            background-color: var(--color-surface);
            border-radius: var(--radius-lg);
            overflow: hidden;
            margin-bottom: var(--spacing-lg);
        }

        .skeleton-image {
            height: 180px;
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        .skeleton-content {
            padding: var(--spacing-lg);
        }

        .skeleton-line {
            height: 16px;
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: 4px;
            margin-bottom: var(--spacing-sm);
        }

        .skeleton-line.short {
            width: 60%;
        }

        .skeleton-line.long {
            width: 100%;
        }

        @keyframes loading {
            0% {
                background-position: 200% 0;
            }
            100% {
                background-position: -200% 0;
            }
        }

        /* ÂìçÂ∫îÂºèËÆæËÆ° */
        @media (max-width: 600px) {
            .filter-section {
                padding: 10px var(--spacing-md);
            }
            
            .filter-tab {
                padding: 8px var(--spacing-sm);
                font-size: var(--text-body-small);
            }
            
            .activities-section {
                padding: var(--spacing-sm) var(--spacing-md);
            }
            
            .activity-meta {
                gap: 6px;
            }
            
            .meta-item {
                font-size: var(--text-label-large);
            }
            
            .activity-footer {
                flex-direction: column;
                align-items: stretch;
                gap: var(--spacing-sm);
            }
            
            .view-btn {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="home-page app-container">
            <!-- È°∂ÈÉ®ÂØºËà™Ê†èÂÆπÂô® -->
            <div class="top-bar-container"></div>
            
            <!-- ÊêúÁ¥¢Ê†èÂÆπÂô® -->
            <div class="search-bar-container"></div>

            <main class="page-content">
                <!-- Á≠õÈÄâÊ†áÁ≠æÂå∫Âüü -->
                <section class="filter-section">
                    <div class="filter-tabs">
                        <button 
                            v-for="filter in filters" 
                            :key="filter.key"
                            :class="['filter-tab', { active: activeFilter === filter.key }]"
                            @click="setActiveFilter(filter.key)"
                        >
                            <iconify-icon :icon="filter.icon" class="filter-icon"></iconify-icon>
                            {{ filter.name }}
                        </button>
                    </div>
                </section>

                <!-- Ê¥ªÂä®ÂàóË°®Âå∫Âüü -->
                <section class="activities-section">
                    <!-- Âä†ËΩΩÁä∂ÊÄÅ -->
                    <div v-if="loading" class="activity-list">
                        <div v-for="n in 3" :key="n" class="activity-skeleton">
                            <div class="skeleton-image"></div>
                            <div class="skeleton-content">
                                <div class="skeleton-line long"></div>
                                <div class="skeleton-line short"></div>
                                <div class="skeleton-line long"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Ê¥ªÂä®ÂàóË°® -->
                    <div v-else class="activity-list">
                        <article 
                            v-for="activity in filteredActivities" 
                            :key="activity.id"
                            class="activity-card"
                            @click="viewActivity(activity)"
                        >
                            <div class="activity-image-container">
                                <img :src="activity.image" :alt="activity.title" class="activity-image" loading="lazy">
                                <div :class="['activity-status', activity.status]">
                                    {{ getStatusText(activity.status) }}
                                </div>
                                <div class="activity-category">
                                    {{ getCategoryText(activity.category) }}
                                </div>
                            </div>
                            
                            <div class="activity-info">
                                <h2 class="activity-title">{{ activity.title }}</h2>
                                
                                <div class="activity-meta">
                                    <div class="meta-item">
                                        <iconify-icon icon="mdi:calendar-outline" class="meta-icon"></iconify-icon>
                                        <span>{{ formatDate(activity.date) }}</span>
                                    </div>
                                    <div class="meta-item">
                                        <iconify-icon icon="mdi:map-marker-outline" class="meta-icon"></iconify-icon>
                                        <span>{{ activity.location }}</span>
                                    </div>
                                    <div class="meta-item" v-if="activity.organizer">
                                        <iconify-icon icon="mdi:account-group-outline" class="meta-icon"></iconify-icon>
                                        <span>{{ activity.organizer }}</span>
                                    </div>
                                </div>
                                
                                <p class="activity-summary">{{ activity.summary }}</p>
                                
                                <div class="activity-footer">
                                    <div class="participants-info">
                                        <iconify-icon icon="mdi:account-multiple-outline" width="16" height="16"></iconify-icon>
                                        <span>{{ activity.participants || 0 }} ‰∫∫ÂèÇ‰∏é</span>
                                    </div>
                                    <button class="view-btn" @click.stop="registerActivity(activity)">
                                        <span v-if="activity.status === 'open'">Á´ãÂç≥Êä•Âêç</span>
                                        <span v-else-if="activity.status === 'full'">Â∑≤Êä•Êª°</span>
                                        <span v-else>Êü•ÁúãËØ¶ÊÉÖ</span>
                                        <iconify-icon icon="mdi:arrow-right" width="16" height="16"></iconify-icon>
                                    </button>
                                </div>
                            </div>
                        </article>
                    </div>
                    
                    <!-- Á©∫Áä∂ÊÄÅ -->
                    <div v-if="!loading && filteredActivities.length === 0" class="empty-state">
                        <div class="empty-icon">üìÖ</div>
                        <div class="empty-title">ÊöÇÊó†Ê¥ªÂä®</div>
                        <div class="empty-message">ÂΩìÂâçÊ≤°ÊúâÁ¨¶ÂêàÊù°‰ª∂ÁöÑÊ¥ªÂä®<br>ËØ∑Â∞ùËØïÂàáÊç¢Á≠õÈÄâÊù°‰ª∂ÊàñÁ®çÂêéÂÜçÊù•</div>
                    </div>
                </section>
            </main>

            <!-- Â∫ïÈÉ®ÂØºËà™Ê†èÂÆπÂô® -->
            <div class="bottom-nav-container"></div>
        </div>

        <!-- Âä†ËΩΩÊåáÁ§∫Âô®ÂÆπÂô® -->
        <div class="loader-container"></div>
    </div>

    <script src="shared-components.js"></script>
    <script src="page-loader.js"></script>
    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    loading: true,
                    searchQuery: '',
                    activeFilter: 'all',
                    
                    filters: [
                        { key: 'all', name: 'ÂÖ®ÈÉ®', icon: 'mdi:view-grid-outline' },
                        { key: 'latest', name: 'ÊúÄÊñ∞', icon: 'mdi:clock-outline' },
                        { key: 'hot', name: 'ÁÉ≠Èó®', icon: 'mdi:fire' },
                        { key: 'career', name: 'Ê±ÇËÅå', icon: 'mdi:briefcase-outline' },
                        { key: 'social', name: 'Á§æ‰∫§', icon: 'mdi:account-group-outline' },
                        { key: 'academic', name: 'Â≠¶ÊúØ', icon: 'mdi:school-outline' },
                        { key: 'nanjing', name: 'Âçó‰∫¨', icon: 'mdi:map-marker-outline' },
                        { key: 'shanghai', name: '‰∏äÊµ∑', icon: 'mdi:map-marker-outline' },
                        { key: 'beijing', name: 'Âåó‰∫¨', icon: 'mdi:map-marker-outline' }
                    ],
                    
                    activities: [
                        {
                            id: 1,
                            title: 'Âçó‰∫¨Â§ßÂ≠¶2025Âπ¥ÊØï‰∏öÁîüÁßãÂ≠£Â§ßÂûãÂèåÈÄâ‰ºö',
                            summary: '‰∏∫2025Âπ¥ÊØï‰∏öÁîüÊèê‰æõ‰ºòË¥®Â∞±‰∏öÊú∫‰ºöÔºåÊ±áËÅöÁü•Âêç‰ºÅ‰∏öÁé∞Âú∫ÊãõËÅòÔºåÊ∂µÁõñIT„ÄÅÈáëËûç„ÄÅÂà∂ÈÄ†‰∏öÁ≠âÂ§ö‰∏™Ë°å‰∏öÔºåÂä©ÂäõÊØï‰∏öÁîüÊâæÂà∞ÂøÉ‰ª™Â∑•‰Ωú„ÄÇ',
                            date: '2024-09-27',
                            location: 'Âçó‰∫¨Â§ßÂ≠¶‰ΩìËÇ≤È¶Ü',
                            organizer: 'ÂçóÂ§ßÂ∞±‰∏öÊåáÂØº‰∏≠ÂøÉ',
                            image: 'https://images.unsplash.com/photo-1559136555-9303baea8ebd?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                            status: 'open',
                            category: 'career',
                            region: 'nanjing',
                            participants: 328
                        },
                        {
                            id: 2,
                            title: 'Ê†°Âèã‰ºÅ‰∏ö‰∏ìÂú∫ÊãõËÅò‰ºö',
                            summary: 'ÈÇÄËØ∑‰ºòÁßÄÊ†°Âèã‰ºÅ‰∏öÂõûÊØçÊ†°ÊãõËÅòÔºå‰∏∫Â≠¶ÂºüÂ≠¶Â¶πÊèê‰æõÂ∞±‰∏öÊú∫‰ºöÔºåÂêåÊó∂Âä†Âº∫Ê†°Âèã‰∏éÊØçÊ†°ÁöÑËÅîÁ≥ªÔºå‰º†ÊâøÂçóÂ§ßÁ≤æÁ•û„ÄÇ',
                            date: '2024-10-15',
                            location: 'Âçó‰∫¨Â§ßÂ≠¶ÈÄ∏Â§´Ê•º',
                            organizer: 'Ê†°ÂèãÊÄª‰ºö',
                            image: 'https://images.unsplash.com/photo-1552664730-d307ca884978?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                            status: 'open',
                            category: 'career',
                            region: 'nanjing',
                            participants: 156
                        },
                        {
                            id: 3,
                            title: 'ÂçóÂ§ßÊ†°Âèã‰∏äÊµ∑ËÅö‰ºö',
                            summary: 'Âú®Ê≤™Ê†°ÂèãÂπ¥Â∫¶ËÅö‰ºöÔºåÂ¢ûËøõÂèãË∞äÔºåÂàÜ‰∫´Âàõ‰∏öÁªèÈ™åÔºåÊé¢ËÆ®Ë°å‰∏öÂèëÂ±ïË∂ãÂäøÔºå‰∏∫Ê†°ÂèãÊèê‰æõ‰∫íÂä©Âêà‰ΩúÁöÑÂπ≥Âè∞„ÄÇ',
                            date: '2024-11-03',
                            location: '‰∏äÊµ∑Êµ¶‰∏úÈ¶ôÊ†ºÈáåÊãâÈÖíÂ∫ó',
                            organizer: '‰∏äÊµ∑Ê†°Âèã‰ºö',
                            image: 'https://images.unsplash.com/photo-1511578314322-379afb476865?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                            status: 'open',
                            category: 'social',
                            region: 'shanghai',
                            participants: 89
                        },
                        {
                            id: 4,
                            title: 'ÂçóÂ§ßÂàõ‰∏öËÆ∫Âùõ',
                            summary: 'ÈÇÄËØ∑Áü•ÂêçÊ†°ÂèãÂàÜ‰∫´Âàõ‰∏öÂøÉÂæóÔºåÊé¢ËÆ®Ë°å‰∏öË∂ãÂäøÔºå‰∏∫ÊúâÂøóÂàõ‰∏öÁöÑÊ†°ÂèãÊèê‰æõÊåáÂØºÂíåËµÑÊ∫êÂØπÊé•„ÄÇ',
                            date: '2024-08-20',
                            location: 'Âçó‰∫¨Â§ßÂ≠¶‰ªôÊûóÊ†°Âå∫',
                            organizer: 'Âàõ‰∏öÊ†°Âèã‰ºö',
                            image: 'https://images.unsplash.com/photo-1515187029135-18ee286d815b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                            status: 'closed',
                            category: 'academic',
                            region: 'nanjing',
                            participants: 245
                        },
                        {
                            id: 5,
                            title: 'Âåó‰∫¨Ê†°ÂèãÂπ¥‰ºö',
                            summary: 'Âåó‰∫¨Âú∞Âå∫Ê†°ÂèãÂπ¥Â∫¶Áõõ‰ºöÔºåÂõûÈ°æËøáÂéª‰∏ÄÂπ¥ÁöÑÊî∂Ëé∑ÔºåÂ±ïÊúõÊú™Êù•ÂèëÂ±ïÔºåÂä†Âº∫Ê†°ÂèãÈó¥ÁöÑÂêà‰Ωú‰∫§ÊµÅ„ÄÇ',
                            date: '2024-12-15',
                            location: 'Âåó‰∫¨ÂõΩÈôÖ‰ºöËÆÆ‰∏≠ÂøÉ',
                            organizer: 'Âåó‰∫¨Ê†°Âèã‰ºö',
                            image: 'https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                            status: 'full',
                            category: 'social',
                            region: 'beijing',
                            participants: 420
                        },
                        {
                            id: 6,
                            title: '‰∫∫Â∑•Êô∫ËÉΩÂâçÊ≤øÂ≠¶ÊúØÁ†îËÆ®‰ºö',
                            summary: 'Ê±áËÅöAIÈ¢ÜÂüüÈ°∂Â∞ñÂ≠¶ËÄÖÂíå‰∏öÁïåÁ≤æËã±ÔºåÂàÜ‰∫´ÊúÄÊñ∞Á†îÁ©∂ÊàêÊûúÔºåÊé¢ËÆ®‰∫∫Â∑•Êô∫ËÉΩÊäÄÊúØÂèëÂ±ïË∂ãÂäøÂíåÂ∫îÁî®ÂâçÊôØ„ÄÇ',
                            date: '2024-10-28',
                            location: 'Âçó‰∫¨Â§ßÂ≠¶ËÆ°ÁÆóÊú∫Á≥ª',
                            organizer: 'ËÆ°ÁÆóÊú∫Á≥ªÊ†°Âèã‰ºö',
                            image: 'https://images.unsplash.com/photo-1485827404703-89b55fcc595e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                            status: 'open',
                            category: 'academic',
                            region: 'nanjing',
                            participants: 67
                        }
                    ]
                };
            },
            
            computed: {
                filteredActivities() {
                    let filtered = [...this.activities];
                    
                    // ÊåâÁ≠õÈÄâÂô®ËøáÊª§
                    if (this.activeFilter === 'latest') {
                        filtered.sort((a, b) => new Date(b.date) - new Date(a.date));
                    } else if (this.activeFilter === 'hot') {
                        filtered.sort((a, b) => b.participants - a.participants);
                    } else if (['career', 'social', 'academic'].includes(this.activeFilter)) {
                        filtered = filtered.filter(activity => activity.category === this.activeFilter);
                    } else if (['nanjing', 'shanghai', 'beijing'].includes(this.activeFilter)) {
                        filtered = filtered.filter(activity => activity.region === this.activeFilter);
                    }
                    
                    // ÊåâÊêúÁ¥¢ÂÖ≥ÈîÆËØçËøáÊª§
                    if (this.searchQuery.trim()) {
                        const query = this.searchQuery.trim().toLowerCase();
                        filtered = filtered.filter(activity => 
                            activity.title.toLowerCase().includes(query) ||
                            activity.summary.toLowerCase().includes(query) ||
                            activity.location.toLowerCase().includes(query) ||
                            activity.organizer.toLowerCase().includes(query)
                        );
                    }
                    
                    return filtered;
                }
            },
            
            methods: {
                setActiveFilter(filter) {
                    this.activeFilter = filter;
                },
                
                formatDate(dateStr) {
                    const date = new Date(dateStr);
                    return date.toLocaleDateString('zh-CN', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric',
                        weekday: 'short'
                    });
                },
                
                getStatusText(status) {
                    const statusMap = {
                        open: 'Êä•Âêç‰∏≠',
                        full: 'Â∑≤Êä•Êª°',
                        closed: 'Â∑≤ÁªìÊùü'
                    };
                    return statusMap[status] || status;
                },
                
                getCategoryText(category) {
                    const categoryMap = {
                        career: 'Ê±ÇËÅåÊãõËÅò',
                        social: 'Á§æ‰∫§ËÅö‰ºö',
                        academic: 'Â≠¶ÊúØ‰∫§ÊµÅ',
                        other: 'ÂÖ∂‰ªñ'
                    };
                    return categoryMap[category] || category;
                },
                
                viewActivity(activity) {
                    const statusClass = activity.status === 'open' ? 'open' : 
                                      activity.status === 'full' ? 'full' : 'closed';
                    
                    showBottomSheet(activity.title, `
                        <div>
                            <img src="${activity.image}" 
                                 alt="${activity.title}" 
                                 class="activity-detail-image">
                            
                            <div class="activity-detail-row">
                                <span class="activity-detail-label">Êó∂Èó¥Ôºö</span>
                                <span class="activity-detail-value">${this.formatDate(activity.date)} Âë®‰∫î</span>
                            </div>
                            
                            <div class="activity-detail-row">
                                <span class="activity-detail-label">Âú∞ÁÇπÔºö</span>
                                <span class="activity-detail-value">${activity.location}</span>
                            </div>
                            
                            <div class="activity-detail-row">
                                <span class="activity-detail-label">‰∏ªÂäûÊñπÔºö</span>
                                <span class="activity-detail-value">${activity.organizer || 'ÂçóÂ§ßÂ∞±‰∏öÊåáÂØº‰∏≠ÂøÉ'}</span>
                            </div>
                            
                            <div class="activity-detail-row">
                                <span class="activity-detail-label">ÂèÇ‰∏é‰∫∫Êï∞Ôºö</span>
                                <span class="activity-detail-value">${activity.participants || 328} ‰∫∫</span>
                            </div>
                            
                            <div class="activity-detail-row">
                                <span class="activity-detail-label">Áä∂ÊÄÅÔºö</span>
                                <span class="activity-status-badge ${statusClass}">${this.getStatusText(activity.status)}</span>
                            </div>
                            
                            <div class="activity-description">
                                ${activity.summary}
                            </div>
                        </div>
                    `, [
                        { text: 'ÂÖ≥Èó≠', class: 'outlined-btn' },
                        { 
                            text: activity.status === 'open' ? 'Á´ãÂç≥Êä•Âêç' : 'ÊàëÁü•ÈÅì‰∫Ü', 
                            class: 'primary-btn',
                            onclick: activity.status === 'open' ? `registerActivity(${activity.id}, true)` : 'closeBottomSheet(this)'
                        }
                    ], {
                        maxHeight: '85vh'
                    });
                },
                
                registerActivity(activity, fromModal = false) {
                    if (fromModal) {
                        closeBottomSheet(document.querySelector('.bottom-sheet-overlay'));
                    }
                    
                    if (activity.status !== 'open') {
                        if (activity.status === 'full') {
                            showToast('ÂæàÊä±Ê≠âÔºåËØ•Ê¥ªÂä®Â∑≤Êä•Êª°', 'warning');
                        } else {
                            showToast('ËØ•Ê¥ªÂä®Â∑≤ÁªìÊùüÊä•Âêç', 'info');
                        }
                        return;
                    }
                    
                    showLoader();
                    
                    // Ê®°ÊãüÊä•ÂêçAPIË∞ÉÁî®
                    setTimeout(() => {
                        hideLoader();
                        showToast('Êä•ÂêçÊàêÂäüÔºÅÊ¥ªÂä®‰ø°ÊÅØÂ∑≤ÂèëÈÄÅËá≥Ê∂àÊÅØ‰∏≠ÂøÉ', 'success');
                        
                        // Êõ¥Êñ∞ÂèÇ‰∏é‰∫∫Êï∞
                        activity.participants += 1;
                        
                        // ÂèØ‰ª•Âú®ËøôÈáåË∑≥ËΩ¨Âà∞ÊàëÁöÑÊ¥ªÂä®È°µÈù¢
                        setTimeout(() => {
                            // window.location.href = 'profile.html';
                        }, 1500);
                    }, 1500);
                },
                
                loadActivities() {
                    this.loading = true;
                    
                    // Ê®°ÊãüAPIÂä†ËΩΩ
                    setTimeout(() => {
                        this.loading = false;
                    }, 1000);
                }
            },
            
            mounted() {
                // Ê£ÄÊü•ÁôªÂΩïÁä∂ÊÄÅ
                if (!localStorage.getItem('alumni_token')) {
                    window.location.href = 'login.html';
                    return;
                }
                
                // ÂàùÂßãÂåñÈ°µÈù¢ÁªÑ‰ª∂
                initializePage({
                    title: 'Ê†°ÂèãÊ¥ªÂä®',
                    activePage: 'home',
                    showSearch: true,
                    showNotification: true,
                    searchPlaceholder: 'ÊêúÁ¥¢Ê¥ªÂä®„ÄÅÂú∞ÁÇπÊàñ‰∏ªÂäûÊñπ...'
                });
                
                // ÁõëÂê¨ÊêúÁ¥¢ËæìÂÖ•
                const searchInput = document.getElementById('searchInput');
                if (searchInput) {
                    searchInput.addEventListener('input', (e) => {
                        this.searchQuery = e.target.value;
                    });
                }
                
                // Âä†ËΩΩÊ¥ªÂä®Êï∞ÊçÆ
                this.loadActivities();
            }
        }).mount('#app');

        // ÂÖ®Â±ÄÂáΩÊï∞Áî®‰∫éÊ®°ÊÄÅÊ°Ü
        function registerActivity(activityId, fromModal = false) {
            const app = document.getElementById('app').__vue_app__.ctx;
            const activity = app.activities.find(a => a.id === activityId);
            if (activity) {
                app.registerActivity(activity, fromModal);
            }
        }
    </script>
</body>
</html>
